{"version":3,"sources":["/projects/nodejs/botbuilder/mgnlq_model/src//projects/nodejs/botbuilder/mgnlq_model/src/../src/match/rule.ts"],"names":[],"mappings":"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","file":"rule.js","sourcesContent":["\r\n\r\nimport * as IMatch from './ifmatch';\r\n\r\nimport * as Model from '../model/model';\r\n\r\n\r\nexport const oKeyOrder: Array<String> = [\"systemObjectCategory\", \"systemId\", \"systemObjectId\"];\r\n\r\n\r\n\r\n\r\nexport function compareMRuleFull(a: IMatch.mRule, b: IMatch.mRule) {\r\n  var r = a.category.localeCompare(b.category);\r\n  if (r) {\r\n    return r;\r\n  }\r\n  r = a.type - b.type;\r\n  if (r) {\r\n    return r;\r\n  }\r\n  if (a.matchedString && b.matchedString) {\r\n    r = a.matchedString.localeCompare(b.matchedString);\r\n    if (r) {\r\n      return r;\r\n    }\r\n  }\r\n  if (a.word && b.word) {\r\n    var r = a.word.localeCompare(b.word);\r\n    if(r) {\r\n      return r;\r\n    }\r\n  }\r\n  r = (a._ranking || 1.0) - (b._ranking || 1.0);\r\n  if(r) {\r\n    return r;\r\n  }\r\n  if(a.exactOnly && !b.exactOnly) {\r\n    return -1;\r\n  }\r\n  if(b.exactOnly && !a.exactOnly) {\r\n    return +1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function cmpMRule(a: IMatch.mRule, b: IMatch.mRule) {\r\n  var r = a.category.localeCompare(b.category);\r\n  if (r) {\r\n    return r;\r\n  }\r\n  r = a.type - b.type;\r\n  if (r) {\r\n    return r;\r\n  }\r\n  if (a.matchedString && b.matchedString) {\r\n    r = a.matchedString.localeCompare(b.matchedString);\r\n    if (r) {\r\n      return r;\r\n    }\r\n  }\r\n  if (a.word && b.word) {\r\n    r = a.word.localeCompare(b.word);\r\n    if(r) {\r\n      return r;\r\n    }\r\n  }\r\n  if(typeof a._ranking === \"number\" && typeof b._ranking === \"number\") {\r\n    r = (a._ranking || 1.0) - (b._ranking || 1.0);\r\n    if(r) {\r\n      return r;\r\n    }\r\n  }\r\n  r = a.wordType.localeCompare(b.wordType);\r\n  if (r) {\r\n    return r;\r\n  }\r\n  r = a.bitindex - b.bitindex;\r\n  if (r) {\r\n    return r;\r\n  }\r\n  if(a.range && b.range) {\r\n    r = a.range.rule.word.localeCompare(b.range.rule.word);\r\n    if (r) {\r\n      return r;\r\n    }\r\n    r = a.range.low - b.range.low;\r\n    if(r) {\r\n      return r;\r\n    }\r\n  }\r\n\r\n  if(a.range && !b.range) {\r\n    return -1;\r\n  }\r\n\r\n  if(!a.range && b.range) {\r\n    return +1;\r\n  }\r\n\r\n  return 0;\r\n\r\n}\r\n"],"sourceRoot":"../../src"}