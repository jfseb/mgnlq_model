{"version":3,"sources":["/projects/nodejs/botbuilder/fdevstar_monmove/src/../src/match/rule.ts"],"names":[],"mappings":"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","file":"match/rule.js","sourcesContent":["\n\nimport * as IMatch from './ifmatch';\n\nimport * as Model from '../model/model';\n\n\nexport const oKeyOrder: Array<String> = [\"systemObjectCategory\", \"systemId\", \"systemObjectId\"];\n\n\n\n\nexport function compareMRuleFull(a: IMatch.mRule, b: IMatch.mRule) {\n  var r = a.category.localeCompare(b.category);\n  if (r) {\n    return r;\n  }\n  r = a.type - b.type;\n  if (r) {\n    return r;\n  }\n  if (a.matchedString && b.matchedString) {\n    r = a.matchedString.localeCompare(b.matchedString);\n    if (r) {\n      return r;\n    }\n  }\n  if (a.word && b.word) {\n    var r = a.word.localeCompare(b.word);\n    if(r) {\n      return r;\n    }\n  }\n  r = (a._ranking || 1.0) - (b._ranking || 1.0);\n  if(r) {\n    return r;\n  }\n  if(a.exactOnly && !b.exactOnly) {\n    return -1;\n  }\n  if(b.exactOnly && !a.exactOnly) {\n    return +1;\n  }\n  return 0;\n}\n\nexport function cmpMRule(a: IMatch.mRule, b: IMatch.mRule) {\n  var r = a.category.localeCompare(b.category);\n  if (r) {\n    return r;\n  }\n  r = a.type - b.type;\n  if (r) {\n    return r;\n  }\n  if (a.matchedString && b.matchedString) {\n    r = a.matchedString.localeCompare(b.matchedString);\n    if (r) {\n      return r;\n    }\n  }\n  if (a.word && b.word) {\n    r = a.word.localeCompare(b.word);\n    if(r) {\n      return r;\n    }\n  }\n  if(typeof a._ranking === \"number\" && typeof b._ranking === \"number\") {\n    r = (a._ranking || 1.0) - (b._ranking || 1.0);\n    if(r) {\n      return r;\n    }\n  }\n  r = a.wordType.localeCompare(b.wordType);\n  if (r) {\n    return r;\n  }\n  r = a.bitindex - b.bitindex;\n  if (r) {\n    return r;\n  }\n  if(a.range && b.range) {\n    r = a.range.rule.word.localeCompare(b.range.rule.word);\n    if (r) {\n      return r;\n    }\n    r = a.range.low - b.range.low;\n    if(r) {\n      return r;\n    }\n  }\n\n  if(a.range && !b.range) {\n    return -1;\n  }\n\n  if(!a.range && b.range) {\n    return +1;\n  }\n\n  return 0;\n\n}\n\n\n\n\nexport function assureLowerCaseWord(mRules: Array<IMatch.mRule>) {\n  return mRules.map(function (oRule) {\n    if (oRule.type === IMatch.EnumRuleType.WORD) {\n      oRule.lowercaseword = oRule.word.toLowerCase();\n    }\n    return oRule;\n  });\n}\n\n"],"sourceRoot":"ABC"}