{"version":3,"sources":["/projects/nodejs/botbuilder/mgnlq_model/src//projects/nodejs/botbuilder/mgnlq_model/src/../src/makedb.ts"],"names":[],"mappings":";AAAA;;GAEG;;AAGH,qDAAqD;AACrD,iDAAiD;AAEjD,4CAA4C;AAC5C,iDAAiD;AACjD,MAAM,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAGrC,IAAI,qBAAqB,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,4BAA4B,CAAC;AACpF,IAAI,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,eAAe,IAAK,yCAAyC,CAAC;AAC1F,OAAO,CAAC,GAAG,CAAC,yBAAyB;IACxB,kBAAkB,GAAG,SAAS;MAC/B,mBAAmB,GAAG,qBAAqB,CAC3C,CAAC;AACb,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE,qBAAqB,CAAC,CAAC,IAAI,CAAE,GAAG,EAAE,CAChE,UAAU,CAAC,kBAAkB,CAAC,QAAQ,EAAE,SAAS,CAAC,CACrD,CAAC,IAAI,CAAE,GAAE,EAAE;IACR,IAAI,MAAM,GAAG,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;IAClD,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,EAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;AACvG,CAAC,CAAC,CAAC,IAAI,CAAE,GAAG,EAAE;IACT,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;AAC1C,CAAC,CAAC,CAAC","file":"makedb.js","sourcesContent":["/**\r\n * create the db, loading models from\r\n */\r\n\r\n\r\nimport * as Schemaload from './modelload/schemaload';\r\nimport * as Dataload from './modelload/dataload';\r\n\r\nimport * as MongoUtils from './utils/mongo';\r\n// var FUtils = require(root + '/model/model.js')\r\nconst mongoose = require('mongoose');\r\n\r\n\r\nvar mongoConnectionString = process.env.MONGO_DBURL || 'mongodb://localhost/testdb';\r\nvar modelPath = process.env.MGNLQ_MODELPATH  || 'node_modules/mgnlq_testmodel/testmodel/';\r\nconsole.log(\" uploading data into \\n\" +\r\n             \"from ModelPath: \" + modelPath\r\n+           \" to     MongoDB: \" + mongoConnectionString\r\n           );\r\nMongoUtils.openMongoose(mongoose, mongoConnectionString).then( () =>\r\n    Schemaload.createDBWithModels(mongoose, modelPath)\r\n).then( ()=> {\r\n    var models = Schemaload.loadModelNames(modelPath);\r\n    return Promise.all(models.map(modelName => Dataload.loadModelData(mongoose,modelPath, modelName)));\r\n}).then( () => {\r\n     MongoUtils.disconnectReset(mongoose);\r\n});\r\n"],"sourceRoot":"ABC"}